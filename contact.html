<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Start Your Project | What the Craft</title>
  <link rel="icon" type="image/jpeg" href="logo.jpg">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Nunito:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
  <script src="https://www.unpkg.com/@instantdb/core@latest/dist/standalone/index.umd.cjs"></script>
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <style>
    :root {
      --cream: #F7F0E6;
      --warm-bg: #FDF8F2;
      --blush: #F2C4C4;
      --soft-pink: #E8A0A0;
      --sage: #A8C5A0;
      --lavender: #C4B8D9;
      --warm-yellow: #F5D889;
      --peach: #F5C8A8;
      --brown-dark: #4A3728;
      --brown-medium: #6B5344;
      --brown-light: #8B7355;
      --gold: #D4A853;
      --card-bg: #FFFAF4;
      --shadow: rgba(74, 55, 40, 0.08);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Nunito', sans-serif;
      background: var(--warm-bg);
      color: var(--brown-dark);
      overflow-x: hidden;
    }

    /* Floating particles */
    .particles {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
      z-index: 0;
      overflow: hidden;
    }

    .particle {
      position: absolute;
      border-radius: 50%;
      opacity: 0;
      animation: floatUp linear infinite;
    }

    @keyframes floatUp {
      0% { opacity: 0; transform: translateY(100vh) scale(0); }
      10% { opacity: 0.6; }
      90% { opacity: 0.3; }
      100% { opacity: 0; transform: translateY(-10vh) scale(1); }
    }

    /* Nav */
    nav {
      position: fixed;
      top: 0; left: 0; right: 0;
      z-index: 100;
      padding: 16px 40px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      transition: all 0.4s ease;
      background: rgba(253, 248, 242, 0.85);
      backdrop-filter: blur(12px);
    }

    nav.scrolled {
      background: rgba(253, 248, 242, 0.95);
      box-shadow: 0 2px 20px var(--shadow);
    }

    .nav-logo {
      display: flex;
      align-items: center;
      gap: 12px;
      text-decoration: none;
    }

    .nav-logo img {
      width: 44px; height: 44px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid var(--warm-yellow);
    }

    .nav-logo span {
      font-family: 'Playfair Display', serif;
      font-size: 1.3rem;
      font-weight: 700;
      color: var(--brown-dark);
    }

    .nav-links {
      display: flex;
      gap: 32px;
      align-items: center;
      list-style: none;
    }

    .nav-links a {
      text-decoration: none;
      color: var(--brown-medium);
      font-weight: 600;
      font-size: 0.95rem;
      transition: color 0.3s;
    }

    .nav-links a:hover { color: var(--soft-pink); }

    .nav-links a.active {
      color: var(--soft-pink);
    }

    .nav-cta {
      background: var(--brown-dark);
      color: var(--cream) !important;
      padding: 10px 24px;
      border-radius: 50px;
      transition: transform 0.3s, background 0.3s !important;
    }

    .nav-cta:hover {
      transform: scale(1.05);
      background: var(--brown-medium);
    }

    .mobile-toggle {
      display: none;
      flex-direction: column;
      gap: 5px;
      cursor: pointer;
      background: none;
      border: none;
      padding: 4px;
    }

    .mobile-toggle span {
      width: 24px; height: 2px;
      background: var(--brown-dark);
      border-radius: 2px;
      transition: all 0.3s;
    }

    /* Page header */
    .page-header {
      text-align: center;
      padding: 140px 20px 60px;
      position: relative;
      z-index: 1;
    }

    .page-header .tag {
      display: inline-block;
      background: var(--blush);
      color: var(--brown-dark);
      padding: 6px 20px;
      border-radius: 50px;
      font-weight: 700;
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      margin-bottom: 16px;
    }

    .page-header h1 {
      font-family: 'Playfair Display', serif;
      font-size: clamp(2rem, 4vw, 3rem);
      color: var(--brown-dark);
      margin-bottom: 12px;
    }

    .page-header p {
      color: var(--brown-light);
      font-size: 1.1rem;
      max-width: 560px;
      margin: 0 auto;
      line-height: 1.6;
    }

    /* Contact form */
    .contact-form-wrapper {
      max-width: 680px;
      margin: 0 auto;
      padding: 0 20px 80px;
      position: relative;
      z-index: 1;
    }

    .contact-form {
      background: var(--card-bg);
      border-radius: 24px;
      padding: 40px 36px;
      box-shadow: 0 4px 24px var(--shadow);
    }

    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
    }

    .form-group.full-width {
      grid-column: 1 / -1;
    }

    .form-group label {
      font-weight: 700;
      font-size: 0.9rem;
      margin-bottom: 6px;
      color: var(--brown-medium);
    }

    .form-group label .required {
      color: var(--soft-pink);
      margin-left: 2px;
    }

    .form-group input,
    .form-group textarea,
    .form-group select {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid #e8ddd0;
      border-radius: 12px;
      font-family: 'Nunito', sans-serif;
      font-size: 1rem;
      color: var(--brown-dark);
      background: #fff;
      transition: border-color 0.3s;
    }

    .form-group input:focus,
    .form-group textarea:focus,
    .form-group select:focus {
      outline: none;
      border-color: var(--soft-pink);
    }

    .form-group textarea {
      height: 120px;
      resize: vertical;
    }

    .form-group input.invalid,
    .form-group textarea.invalid {
      border-color: #c0392b;
    }

    .submit-btn {
      width: 100%;
      padding: 16px;
      background: var(--brown-dark);
      color: var(--cream);
      border: none;
      border-radius: 50px;
      font-family: 'Nunito', sans-serif;
      font-weight: 700;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 8px;
    }

    .submit-btn:hover {
      background: var(--brown-medium);
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(74, 55, 40, 0.2);
    }

    .submit-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    /* Success state */
    .success-message {
      display: none;
      text-align: center;
      padding: 60px 32px;
    }

    .success-message .success-icon {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: var(--sage);
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 24px;
      font-size: 2rem;
      color: #fff;
    }

    .success-message h2 {
      font-family: 'Playfair Display', serif;
      font-size: 1.8rem;
      color: var(--brown-dark);
      margin-bottom: 12px;
    }

    .success-message p {
      color: var(--brown-light);
      font-size: 1.05rem;
      line-height: 1.7;
      max-width: 400px;
      margin: 0 auto 28px;
    }

    .success-message a {
      display: inline-block;
      background: var(--brown-dark);
      color: var(--cream);
      padding: 14px 36px;
      border-radius: 50px;
      text-decoration: none;
      font-weight: 700;
      font-size: 1rem;
      transition: all 0.3s;
    }

    .success-message a:hover {
      background: var(--brown-medium);
      transform: translateY(-2px);
    }

    /* CTA section */
    .cta-section {
      background: var(--brown-dark);
      text-align: center;
      padding: 80px 20px;
      position: relative;
      z-index: 1;
    }

    .cta-section h2 {
      font-family: 'Playfair Display', serif;
      font-size: clamp(1.8rem, 4vw, 2.6rem);
      color: var(--cream);
      margin-bottom: 16px;
    }

    .cta-section p {
      color: var(--peach);
      font-size: 1.15rem;
      margin-bottom: 32px;
      max-width: 500px;
      margin-left: auto;
      margin-right: auto;
      line-height: 1.6;
    }

    .cta-section .cta-details {
      display: flex;
      gap: 40px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .cta-section .cta-details .detail {
      color: var(--peach);
      font-size: 1rem;
    }

    .cta-section .cta-details .detail i {
      margin-right: 8px;
      color: var(--warm-yellow);
    }

    /* Footer */
    footer {
      background: var(--brown-dark);
      color: var(--peach);
      text-align: center;
      padding: 40px 20px;
      position: relative;
      z-index: 1;
    }

    footer .footer-logo {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      margin-bottom: 16px;
    }

    footer .footer-logo img {
      width: 40px; height: 40px;
      border-radius: 50%;
      border: 2px solid var(--gold);
    }

    footer .footer-logo span {
      font-family: 'Playfair Display', serif;
      font-size: 1.2rem;
      color: var(--cream);
    }

    footer p {
      font-size: 0.9rem;
      opacity: 0.7;
    }

    footer .social-links {
      display: flex;
      gap: 20px;
      justify-content: center;
      margin-top: 16px;
    }

    footer .social-links a {
      color: var(--peach);
      text-decoration: none;
      font-size: 0.95rem;
      transition: color 0.3s;
    }

    footer .social-links a:hover { color: var(--warm-yellow); }

    /* Scroll animations */
    .fade-in {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.7s ease, transform 0.7s ease;
    }

    .fade-in.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* Responsive */
    @media (max-width: 768px) {
      nav { padding: 12px 20px; }

      .nav-links {
        display: none;
        position: absolute;
        top: 100%; left: 0; right: 0;
        background: rgba(253, 248, 242, 0.98);
        backdrop-filter: blur(12px);
        flex-direction: column;
        padding: 24px;
        gap: 20px;
        box-shadow: 0 8px 32px var(--shadow);
      }

      .nav-links.open { display: flex; }
      .mobile-toggle { display: flex; }

      .page-header { padding: 120px 20px 40px; }

      .form-grid {
        grid-template-columns: 1fr;
      }

      .contact-form {
        padding: 28px 20px;
      }
    }

    @media (max-width: 400px) {
      .page-header h1 { font-size: 1.8rem; }
      .nav-logo span { font-size: 1.1rem; }
    }
  </style>
</head>
<body>

  <!-- Floating Particles -->
  <div class="particles" id="particles"></div>

  <!-- Nav -->
  <nav id="navbar">
    <a href="index.html" class="nav-logo">
      <img src="logo.jpg" alt="What the Craft">
      <span>What the Craft</span>
    </a>
    <button class="mobile-toggle" id="mobileToggle" aria-label="Menu">
      <span></span><span></span><span></span>
    </button>
    <ul class="nav-links" id="navLinks">
      <li><a href="index.html">Home</a></li>
      <li><a href="portfolio.html">Portfolio</a></li>
      <li><a href="contact.html" class="active">Contact</a></li>
      <li><a href="index.html#services">Services</a></li>
      <li><a href="index.html#about">About Ali</a></li>
      <li><a href="contact.html" class="nav-cta">Contact Us</a></li>
    </ul>
  </nav>

  <!-- Page Header -->
  <div class="page-header fade-in">
    <div class="tag">Get In Touch</div>
    <h1>Start Your Project</h1>
    <p>Tell me about your event and I'll put together a creative plan tailored to your vision and budget.</p>
  </div>

  <!-- Contact Form -->
  <div class="contact-form-wrapper fade-in">
    <div class="contact-form" id="contactForm">
      <div class="form-grid">
        <div class="form-group">
          <label for="contactName">Your Name <span class="required">*</span></label>
          <input type="text" id="contactName" placeholder="Jane Smith" required>
        </div>

        <div class="form-group">
          <label for="contactEmail">Email Address <span class="required">*</span></label>
          <input type="email" id="contactEmail" placeholder="jane@email.com" required>
        </div>

        <div class="form-group">
          <label for="contactPhone">Phone <span style="font-weight:400; font-size:0.8rem; color:var(--brown-light);">(optional)</span></label>
          <input type="tel" id="contactPhone" placeholder="(555) 123-4567">
        </div>

        <div class="form-group">
          <label for="contactEventType">Event Type</label>
          <select id="contactEventType">
            <option value="">Select one...</option>
            <option value="Classroom & Teacher Gifts">Classroom & Teacher Gifts</option>
            <option value="Party Styling">Party Styling</option>
            <option value="Baby & Bridal Shower">Baby & Bridal Shower</option>
            <option value="Holiday & Seasonal">Holiday & Seasonal</option>
            <option value="Corporate & Events">Corporate & Events</option>
            <option value="Custom Project">Custom Project</option>
          </select>
        </div>

        <div class="form-group">
          <label for="contactDate">Date Needed</label>
          <input type="date" id="contactDate">
        </div>

        <div class="form-group">
          <label for="contactBudget">Budget Range</label>
          <select id="contactBudget">
            <option value="">Select one...</option>
            <option value="Under $75">Under $75</option>
            <option value="$75 - $150">$75 - $150</option>
            <option value="$150 - $300">$150 - $300</option>
            <option value="$300+">$300+</option>
            <option value="Not Sure Yet">Not Sure Yet</option>
          </select>
        </div>

        <div class="form-group full-width">
          <label for="contactMessage">Tell Me About Your Project <span class="required">*</span></label>
          <textarea id="contactMessage" placeholder="What's the occasion? How many people? Any themes or colors you love? The more details, the better! If you have no idea but you know you need something, let's figure it out together."></textarea>
        </div>

        <div class="form-group full-width">
          <button class="submit-btn" id="submitBtn" disabled>Send My Inquiry</button>
        </div>
      </div>

      <!-- Success State -->
      <div class="success-message" id="successMessage">
        <div class="success-icon"><i class="fa-solid fa-check"></i></div>
        <h2>Message Sent!</h2>
        <p>Thanks for reaching out! I'll review your project details and get back to you within 24&ndash;48 hours.</p>
        <a href="index.html">Back to Home</a>
      </div>
    </div>
  </div>

  <!-- CTA with contact details -->
  <section class="cta-section">
    <h2 class="fade-in">Prefer to Reach Out Directly?</h2>
    <p class="fade-in">No problem! You can always email or call.</p>
    <div class="cta-details fade-in">
      <div class="detail"><i class="fa-solid fa-envelope"></i> ali@whatthecraft.com</div>
      <div class="detail"><i class="fa-solid fa-location-dot"></i> Nashua, NH</div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="footer-logo">
      <img src="logo.jpg" alt="What the Craft">
      <span>What the Craft</span>
    </div>
    <p>&copy; 2026 What the Craft. Creative projects, fully handled.</p>
    <div class="social-links">
      <a href="#">Instagram</a>
      <a href="#">Facebook</a>
    </div>
  </footer>

  <script>
    // ---- EmailJS Setup ----
    // TODO: Replace these with your EmailJS credentials
    const EMAILJS_PUBLIC_KEY = 'VO2EsLKr62e4Z15aT';
    const EMAILJS_SERVICE_ID = 'service_o2a3ear';
    const EMAILJS_TEMPLATE_ID = 'template_8y1m0vj';
    emailjs.init(EMAILJS_PUBLIC_KEY);

    // ---- InstantDB Setup ----
    const { init, id: genId } = instant;
    const APP_ID = 'cb0b4fa6-26e4-4b9c-b3c2-29afcbe14890';
    const db = init({ appId: APP_ID });

    // ---- DOM Refs ----
    const nameInput = document.getElementById('contactName');
    const emailInput = document.getElementById('contactEmail');
    const phoneInput = document.getElementById('contactPhone');
    const eventTypeSelect = document.getElementById('contactEventType');
    const dateInput = document.getElementById('contactDate');
    const budgetSelect = document.getElementById('contactBudget');
    const messageInput = document.getElementById('contactMessage');
    const submitBtn = document.getElementById('submitBtn');
    const formGrid = document.querySelector('.form-grid');
    const successMessage = document.getElementById('successMessage');

    // ---- Form Validation ----
    function checkForm() {
      const name = nameInput.value.trim();
      const email = emailInput.value.trim();
      const message = messageInput.value.trim();
      const emailValid = email && /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
      submitBtn.disabled = !(name && emailValid && message);
    }

    nameInput.addEventListener('input', checkForm);
    emailInput.addEventListener('input', checkForm);
    messageInput.addEventListener('input', checkForm);

    // ---- Submit Form ----
    submitBtn.addEventListener('click', async () => {
      if (submitBtn.disabled) return;

      submitBtn.disabled = true;
      submitBtn.textContent = 'Sending...';

      try {
        const formData = {
          name: nameInput.value.trim(),
          email: emailInput.value.trim(),
          phone: phoneInput.value.trim() || '',
          eventType: eventTypeSelect.value || 'Not specified',
          dateNeeded: dateInput.value || 'Not specified',
          budget: budgetSelect.value || 'Not specified',
          message: messageInput.value.trim()
        };

        await db.transact(
          db.tx.inquiries[genId()].update({
            ...formData,
            phone: formData.phone || null,
            eventType: eventTypeSelect.value || null,
            dateNeeded: dateInput.value || null,
            budget: budgetSelect.value || null,
            status: 'new',
            createdAt: Date.now()
          })
        );

        // Send email notification
        // Send email notification
        emailjs.send(EMAILJS_SERVICE_ID, EMAILJS_TEMPLATE_ID, {
          from_name: formData.name,
          from_email: formData.email,
          phone: formData.phone || 'Not provided',
          event_type: formData.eventType,
          date_needed: formData.dateNeeded,
          budget: formData.budget,
          message: formData.message
        }).catch(err => console.warn('Email notification failed:', err));

        // Show success (inquiry is saved even if email fails)
        formGrid.style.display = 'none';
        successMessage.style.display = 'block';
      } catch (err) {
        console.error('Error submitting inquiry:', err);
        submitBtn.disabled = false;
        submitBtn.textContent = 'Send My Inquiry';
      }
    });

    // ---- Nav scroll effect ----
    const navbar = document.getElementById('navbar');
    window.addEventListener('scroll', () => {
      navbar.classList.toggle('scrolled', window.scrollY > 60);
    });

    // ---- Mobile menu ----
    const mobileToggle = document.getElementById('mobileToggle');
    const navLinks = document.getElementById('navLinks');
    mobileToggle.addEventListener('click', () => navLinks.classList.toggle('open'));
    navLinks.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', () => navLinks.classList.remove('open'));
    });

    // ---- Scroll animations ----
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) entry.target.classList.add('visible');
      });
    }, { threshold: 0.15 });

    document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));

    // ---- Floating particles ----
    (function createParticles() {
      const container = document.getElementById('particles');
      const colors = ['#F2C4C4', '#C4B8D9', '#A8C5A0', '#F5D889', '#F5C8A8'];
      for (let i = 0; i < 20; i++) {
        const p = document.createElement('div');
        p.classList.add('particle');
        const size = Math.random() * 6 + 3;
        p.style.width = size + 'px';
        p.style.height = size + 'px';
        p.style.left = Math.random() * 100 + '%';
        p.style.background = colors[Math.floor(Math.random() * colors.length)];
        p.style.animationDuration = (Math.random() * 15 + 10) + 's';
        p.style.animationDelay = (Math.random() * 10) + 's';
        container.appendChild(p);
      }
    })();
  </script>
</body>
</html>
